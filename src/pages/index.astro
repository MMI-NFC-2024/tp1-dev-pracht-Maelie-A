---
import Layout from "../layouts/Layout.astro";
import PlotFigure from "../components/PlotFigure.astro";
import rows from "../assets/untitled.json"; // ← ton JSON

// (optionnel) nettoie un peu : enlève les lignes incomplètes
const data = rows.filter(
  (d) => d.culmen_length_mm != null && d.culmen_depth_mm != null
);
---

<Layout>
  <h1 class="text-4xl font-bold mb-4">Mon graphique</h1>

  <p class="text-gray-500 mb-2">Données chargées : {data.length} lignes</p>

  <!-- choisis les clés que TU as dans ton JSON -->
  <PlotFigure
    rows={data}
    x="culmen_length_mm"
    y="culmen_depth_mm"
    color="species"
    width={860}
    height={480}
  />
</Layout>




